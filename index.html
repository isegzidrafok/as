<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body {
      margin: 0;
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    canvas {
      background: #20232a;
      border: 2px solid #444;
    }
  </style>
</head>

<body>
  <canvas id="oyun" width="500" height="350"></canvas>

  <script>
    const canvas = document.getElementById("oyun");
    const c = canvas.getContext("2d");

    // Karakter verileri
    let oyuncu = {
      x: 250,
      y: 175,
      hız: 2.4,
      boyut: 28
    };

    // Tuşlar
    let tus = {
      w: false,
      a: false,
      s: false,
      d: false
    };

    // Tuş olayları
    document.addEventListener("keydown", e => {
      if (e.key === "w") tus.w = true;
      if (e.key === "a") tus.a = true;
      if (e.key === "s") tus.s = true;
      if (e.key === "d") tus.d = true;
    });

    document.addEventListener("keyup", e => {
      if (e.key === "w") tus.w = false;
      if (e.key === "a") tus.a = false;
      if (e.key === "s") tus.s = false;
      if (e.key === "d") tus.d = false;
    });

    // Karakter çizimi (Among Us görünümü)
    function karakter(x, y) {
      const r = oyuncu.boyut;

      // Gövde
      c.fillStyle = "#ff3b3b";
      c.beginPath();
      c.roundRect(x - r, y - r, r*2, r*2.2, 12);
      c.fill();

      // Vizör
      c.fillStyle = "#9ad6f5";
      c.beginPath();
      c.ellipse(x + 5, y - 3, 18, 12, 0, 0, Math.PI*2);
      c.fill();
    }

    // Oyun döngüsü
    function loop() {
      c.clearRect(0, 0, canvas.width, canvas.height);

      // Hareket sistemi
      let vx = 0, vy = 0;

      if (tus.w) vy -= oyuncu.hız;
      if (tus.s) vy += oyuncu.hız;
      if (tus.a) vx -= oyuncu.hız;
      if (tus.d) vx += oyuncu.hız;

      // Diyagonal hız dengesi
      if (vx !== 0 && vy !== 0) {
        vx *= 0.71; // 1/√2
        vy *= 0.71;
      }

      oyuncu.x += vx;
      oyuncu.y += vy;

      // Ekran dışına çıkmayı engelle
      if (oyuncu.x < 0) oyuncu.x = 0;
      if (oyuncu.x > canvas.width) oyuncu.x = canvas.width;
      if (oyuncu.y < 0) oyuncu.y = 0;
      if (oyuncu.y > canvas.height) oyuncu.y = canvas.height;

      // Çizim
      karakter(oyuncu.x, oyuncu.y);

      requestAnimationFrame(loop);
    }

    loop();
  </script>
</body>
  </html>
